<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
    <title>Retro Recall</title>
    <script src="coi-serviceworker.min.js"></script>
    <style>
        body { margin: 0; background-color: #1a1a1a; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; }
        #canvas { display: block; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        #canvas:focus { outline: none; }
        /* PC Fullscreen Button */
        #fullscreen-btn {
            position: absolute; bottom: 20px; right: 20px;
            background: rgba(0,0,0,0.7); color: white; border: 1px solid #555;
            padding: 10px; cursor: pointer; z-index: 1000; display: none;
            font-family: sans-serif; border-radius: 5px;
        }
        /* Mobile: Hide fullscreen button, canvas fills screen */
        @media (max-width: 800px) {
            #canvas { width: 100%; height: 100%; box-shadow: none; }
            #fullscreen-btn { display: none !important; }
        }
    </style>
    <link id="-gd-engine-icon" rel="icon" type="image/png" href="index.icon.png" />
    <link rel="apple-touch-icon" href="index.apple-touch-icon.png" />
</head>
<body>
    <canvas id="canvas">Canvas not supported.</canvas>
    <button id="fullscreen-btn" onclick="toggleFullScreen()">â›¶ FULLSCREEN</button>
    <script src="index.js"></script>
    <script>
        const GODOT_CONFIG = {
            args: [],
            canvasResizePolicy: 2,
            executable: "index",
            experimentalVK: false,
            fileSizes: { "index.pck": 10576188, "index.wasm": 37686550 },
            focusCanvas: true,
            gdextensionLibs: []
        };
        const engine = new Engine(GODOT_CONFIG);

        (function() {
            const canvas = document.getElementById('canvas');
            // Check if PC to show fullscreen button
            if (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                document.getElementById('fullscreen-btn').style.display = 'block';
            }
            engine.startGame();
        })();

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) { document.exitFullscreen(); }
            }
        }
    </script>
</body>
</html>